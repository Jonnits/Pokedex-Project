let pokemonRepository=function(){let e=[];function t(t){e.push(t)}function o(e){return e.charAt(0).toUpperCase()+e.slice(1)}function n(e){return i(),fetch(e.detailsUrl).then((e=>e.json())).then((t=>{e.imageUrl=t.sprites.front_default,e.height=t.height,e.abilities=t.abilities.map((e=>e.ability.name)).join(", ")})).catch((t=>console.error("Error loading details for:",e.name,t))).finally((()=>r()))}function i(){let e=document.createElement("p");e.innerText="Loading...",e.classList.add("loading-message"),document.body.appendChild(e)}function r(){let e=document.querySelector(".loading-message");e&&document.body.removeChild(e)}return{getAll:function(){return e},add:t,addListItem:function(e){let t=document.querySelector(".list-group"),i=document.createElement("li");i.classList.add("list-group-item");let r=document.createElement("button");r.innerText=o(e.name),r.classList.add("pokemon-button","btn","btn-primary"),r.addEventListener("click",(()=>function(e){n(e).then((()=>{var t,n,i,r;t=e.name,n="Height: "+e.height,i=e.imageUrl,r="Abilities: "+e.abilities,document.querySelector("#pokemonModalLabel").innerText=o(t),document.querySelector("#pokemonImage").setAttribute("src",i),document.querySelector("#pokemonHeight").innerText=n,document.querySelector("#pokemonAbilities").innerText=r,$("#pokemonModal").modal("show")}))}(e))),i.appendChild(r),t.appendChild(i)},loadList:function(){return i(),fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then((e=>e.json())).then((e=>{e.results.forEach((e=>{t({name:e.name,detailsUrl:e.url})}))})).catch((e=>console.error("Error loading list:",e))).finally((()=>r()))},loadDetails:n}}();pokemonRepository.loadList().then((()=>{pokemonRepository.getAll().forEach((e=>{pokemonRepository.addListItem(e)}))}));let searchInput=document.querySelector('.form-control[placeholder="Enter a Pokemon..."]');searchInput.addEventListener("input",(()=>{let e=searchInput.value.toLowerCase(),t=pokemonRepository.getAll(),o=t.filter((t=>t.name.toLowerCase().includes(e)));document.querySelector(".list-group").innerHTML="",o.forEach((e=>{pokemonRepository.addListItem(e)}));let n=t.find((t=>t.name.toLowerCase()===e));n&&pokemonRepository.showDetails(n)}));